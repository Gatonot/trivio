"use strict";(self["webpackChunktrivio_vue"]=self["webpackChunktrivio_vue"]||[]).push([[661],{4947:function(e,t,o){o.d(t,{R:function(){return a}});const a={COMPANY:"Компании",USERS:"Пользователи"}},5641:function(e,t,o){o.d(t,{Z:function(){return r}});var a=o(3396);const n={class:"card"};function i(e,t,o,i,l,d){return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.WI)(e.$slots,"default",{},void 0,!0),(0,a.WI)(e.$slots,"actions",{},void 0,!0)])}var l={name:"AppCard"},d=o(89);const s=(0,d.Z)(l,[["render",i],["__scopeId","data-v-3b8e491c"]]);var r=s},3661:function(e,t,o){o.d(t,{Z:function(){return he}});var a=o(3396),n=o(7139);const i={class:"section mt-12 container"},l={class:"d-flex align-center justify-space-between"};function d(e,t,o,d,s,r){const c=(0,a.up)("app-button"),p=(0,a.up)("section-card-body"),u=(0,a.up)("section-card-footer");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",l,[(0,a._)("h2",null,(0,n.zw)(o.name),1),(0,a.Wm)(c,{label:"Добавить",onClick:t[0]||(t[0]=e=>r.openDialog())})]),(0,a.Wm)(p,{list:o.list,onEditDialog:t[1]||(t[1]=e=>r.editDialog(e)),onDeleteDialog:t[2]||(t[2]=e=>r.deleteDialog(e)),onCloseDialog:t[3]||(t[3]=e=>r.closeDialog())},null,8,["list"]),(0,a.Wm)(u,{"item-id":s.itemId,form:s.form,name:o.name,"dialog-is-shown":s.dialogIsShown,onDeleteById:t[4]||(t[4]=e=>r.deleteItemById(e)),onAddNewItem:t[5]||(t[5]=e=>r.addNewItem(e)),onCloseDialog:t[6]||(t[6]=e=>r.closeDialog())},null,8,["item-id","form","name","dialog-is-shown"])])}var s=o(65),r=o(4947);const c={class:"app-button"};function p(e,t,o,i,l,d){return(0,a.wg)(),(0,a.iD)("button",c,(0,n.zw)(o.label),1)}var u={name:"AppButton",props:{label:{type:String,required:!0}}},m=o(89);const C=(0,m.Z)(u,[["render",p],["__scopeId","data-v-1127af12"]]);var f=C,v=o(9242);const h={class:"section-card-body"},g={class:"actions"};function w(e,t,o,i,l,d){const s=(0,a.up)("delete-icon"),r=(0,a.up)("button-icon"),c=(0,a.up)("edit-icon"),p=(0,a.up)("app-card");return(0,a.wg)(),(0,a.iD)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.list,((t,o)=>((0,a.wg)(),(0,a.j4)(p,{key:o,class:"app-card",onClick:o=>e.$emit("edit-dialog",t.id)},{actions:(0,a.w5)((()=>[(0,a._)("div",g,[(0,a.Wm)(r,{class:"delete-icon",onClick:(0,v.iM)((o=>e.$emit("delete-dialog",t.id)),["stop"])},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{color:"#fff"})])),_:2},1032,["onClick"]),(0,a.Wm)(r,{class:"edit-icon",onClick:(0,v.iM)((o=>e.$emit("edit-dialog",t.id)),["stop"])},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{color:"#fff"})])),_:2},1032,["onClick"])])])),default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.name)+" ",1)])),_:2},1032,["onClick"])))),128))])}var I=o(5641);const _={class:"button"};function y(e,t,o,n,i,l){return(0,a.wg)(),(0,a.iD)("button",_,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])}var D={name:"ButtonDelete"};const b=(0,m.Z)(D,[["render",y],["__scopeId","data-v-2cd11f22"]]);var V=b;const S={width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k=(0,a.uE)('<g clip-path="url(#clip0_738_326)" data-v-5cf64f7d><path d="M326.663 185.498C320.041 185.498 314.673 190.866 314.673 197.489V424.111C314.673 430.729 320.041 436.102 326.663 436.102C333.286 436.102 338.654 430.729 338.654 424.111V197.489C338.654 190.866 333.286 185.498 326.663 185.498Z" fill="currentColor" data-v-5cf64f7d></path><path d="M185.174 185.498C178.551 185.498 173.184 190.866 173.184 197.489V424.111C173.184 430.729 178.551 436.102 185.174 436.102C191.797 436.102 197.165 430.729 197.165 424.111V197.489C197.165 190.866 191.797 185.498 185.174 185.498Z" fill="currentColor" data-v-5cf64f7d></path><path d="M82.0552 152.426V447.849C82.0552 465.31 88.458 481.708 99.643 493.474C110.776 505.272 126.271 511.97 142.486 511.998H369.352C385.572 511.97 401.066 505.272 412.195 493.474C423.38 481.708 429.783 465.31 429.783 447.849V152.426C452.017 146.524 466.424 125.044 463.45 102.229C460.471 79.419 441.038 62.3558 418.031 62.3511H356.64V47.3628C356.71 34.7587 351.727 22.6557 342.804 13.7517C333.881 4.85243 321.759 -0.103056 309.155 -1.1448e-05H202.683C190.078 -0.103056 177.957 4.85243 169.034 13.7517C160.111 22.6557 155.128 34.7587 155.198 47.3628V62.3511H93.807C70.8 62.3558 51.3668 79.419 48.3879 102.229C45.4137 125.044 59.8211 146.524 82.0552 152.426V152.426ZM369.352 488.017H142.486C121.985 488.017 106.036 470.406 106.036 447.849V153.48H405.801V447.849C405.801 470.406 389.853 488.017 369.352 488.017ZM179.179 47.3628C179.099 41.1193 181.554 35.11 185.985 30.7025C190.411 26.295 196.434 23.8735 202.683 23.9812H309.155C315.403 23.8735 321.427 26.295 325.853 30.7025C330.284 35.1053 332.738 41.1193 332.659 47.3628V62.3511H179.179V47.3628ZM93.807 86.3323H418.031C429.951 86.3323 439.614 95.995 439.614 107.915C439.614 119.836 429.951 129.498 418.031 129.498H93.807C81.8866 129.498 72.2239 119.836 72.2239 107.915C72.2239 95.995 81.8866 86.3323 93.807 86.3323V86.3323Z" fill="currentColor" data-v-5cf64f7d></path><path d="M255.919 185.498C249.296 185.498 243.928 190.866 243.928 197.489V424.111C243.928 430.729 249.296 436.102 255.919 436.102C262.542 436.102 267.909 430.729 267.909 424.111V197.489C267.909 190.866 262.542 185.498 255.919 185.498Z" fill="currentColor" data-v-5cf64f7d></path></g><defs data-v-5cf64f7d><clipPath id="clip0_738_326" data-v-5cf64f7d><rect width="512" height="512" fill="white" data-v-5cf64f7d></rect></clipPath></defs>',2),Z=[k];function A(e,t,o,n,i,l){return(0,a.wg)(),(0,a.iD)("svg",S,Z)}var N={name:"DeleteIcon"};const M=(0,m.Z)(N,[["render",A],["__scopeId","data-v-5cf64f7d"]]);var L=M;const W=e=>((0,a.dD)("data-v-24d97e9c"),e=e(),(0,a.Cn)(),e),$={width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},B=W((()=>(0,a._)("g",{"clip-path":"url(#clip0_739_326)"},[(0,a._)("path",{d:"M440.884 19.2894C415.079 -6.47096 373.289 -6.47096 347.484 19.2894L324.103 42.7976L75.2234 291.545L74.6944 292.079C74.5663 292.207 74.5663 292.343 74.43 292.343C74.1655 292.74 73.7688 293.132 73.5085 293.529C73.5085 293.661 73.3721 293.661 73.3721 293.793C73.1077 294.19 72.9796 294.455 72.711 294.851C72.5829 294.983 72.5829 295.112 72.4506 295.248C72.3184 295.645 72.1862 295.909 72.0498 296.306C72.0498 296.434 71.9217 296.434 71.9217 296.57L16.7027 462.62C15.0829 467.347 16.3143 472.583 19.8721 476.091C22.3721 478.558 25.744 479.938 29.2523 479.926C30.6862 479.901 32.1077 479.678 33.4796 479.264L199.401 423.913C199.529 423.913 199.529 423.913 199.665 423.785C200.083 423.661 200.484 423.483 200.851 423.252C200.955 423.24 201.046 423.194 201.12 423.124C201.513 422.859 202.041 422.591 202.438 422.326C202.831 422.066 203.232 421.669 203.628 421.405C203.761 421.269 203.889 421.269 203.889 421.14C204.025 421.008 204.289 420.88 204.422 420.612L476.682 148.351C502.442 122.546 502.442 80.7563 476.682 54.9546L440.884 19.2894ZM195.174 392.868L103.232 300.93L333.351 70.81L425.293 162.748L195.174 392.868ZM90.2812 325.368L170.603 405.686L49.992 445.843L90.2812 325.368ZM458.058 129.855L444.054 143.992L352.108 52.0455L366.248 37.9133C381.715 22.4588 406.785 22.4588 422.256 37.9133L458.186 73.8431C473.537 89.3802 473.479 114.393 458.058 129.855Z",fill:"currentColor"})],-1))),H=W((()=>(0,a._)("defs",null,[(0,a._)("clipPath",{id:"clip0_739_326"},[(0,a._)("rect",{width:"512",height:"512",fill:"white"})])],-1))),U=[B,H];function E(e,t,o,n,i,l){return(0,a.wg)(),(0,a.iD)("svg",$,U)}var x={name:"EditIcon"};const q=(0,m.Z)(x,[["render",E],["__scopeId","data-v-24d97e9c"]]);var O=q,P={name:"SectionCardBody",components:{AppCard:I.Z,ButtonIcon:V,DeleteIcon:L,EditIcon:O},props:{list:{type:Array,required:!0}}};const Y=(0,m.Z)(P,[["render",w],["__scopeId","data-v-636335e0"]]);var j=Y;const F=e=>((0,a.dD)("data-v-3f206bcb"),e=e(),(0,a.Cn)(),e),R=F((()=>(0,a._)("h3",null,"Вы действительно хотите удалить?",-1))),z={class:"button-actions"},K=F((()=>(0,a._)("h3",null,"Добавить",-1))),G={class:"company-actions mt-3 flex-column"};function J(e,t,o,n,i,l){const d=(0,a.up)("form-edit"),s=(0,a.up)("app-button"),r=(0,a.up)("app-input"),c=(0,a.up)("app-dialog");return(0,a.wg)(),(0,a.j4)(c,{modelValue:o.dialogIsShown,"onUpdate:modelValue":t[5]||(t[5]=e=>o.dialogIsShown=e),onClickOutside:t[6]||(t[6]=t=>e.$emit("close-dialog"))},{default:(0,a.w5)((()=>[o.form.editIsShown?((0,a.wg)(),(0,a.j4)(d,{key:0,"item-id":o.itemId,value:l.findName(o.itemId),onSave:t[0]||(t[0]=e=>l.saveAfterEdit(e))},null,8,["item-id","value"])):o.form.deleteIsShown?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[R,(0,a._)("div",z,[(0,a.Wm)(s,{class:"cancel",label:"Отменить",onClick:t[1]||(t[1]=t=>e.$emit("close-dialog"))}),(0,a.Wm)(s,{class:"delete",label:"Удалить",onClick:t[2]||(t[2]=t=>e.$emit("delete-by-id",o.itemId))})])],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[K,(0,a._)("div",G,[(0,a.Wm)(r,{type:"text",onUpdatedValue:t[3]||(t[3]=e=>i.tempNewValue=e)}),(0,a.Wm)(s,{label:"Добавить",onClick:t[4]||(t[4]=t=>e.$emit("add-new-item",i.tempNewValue))})])],64))])),_:1},8,["modelValue"])}function Q(e,t,o,n,i,l){return o.modelValue?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"dialog",onClick:t[1]||(t[1]=e=>l.closeDialog())},[(0,a._)("div",{class:"dialog-container",onClick:t[0]||(t[0]=(0,v.iM)((()=>{}),["stop"]))},[(0,a.WI)(e.$slots,"default",{},void 0,!0)])])):(0,a.kq)("",!0)}var T={name:"AppDialog",props:{modelValue:{type:Boolean,default:!1}},methods:{closeDialog(){this.$emit("update:modelValue",!1),this.$emit("click-outside")}}};const X=(0,m.Z)(T,[["render",Q],["__scopeId","data-v-153ef684"]]);var ee=X;const te=["type","value"];function oe(e,t,o,n,i,l){return(0,a.wg)(),(0,a.iD)("input",{class:"app-input",type:o.type,value:o.value.name,onInput:t[0]||(t[0]=e=>l.updateValue(e))},null,40,te)}var ae={name:"AppInput",props:{type:{type:String,default:"text"},value:{type:Object,default:()=>({})}},methods:{updateValue(e){this.$emit("updated-value",{id:this.value?.id||Date.now(),name:e.target.value})}}};const ne=(0,m.Z)(ae,[["render",oe],["__scopeId","data-v-4e738feb"]]);var ie=ne;const le=(0,a._)("h3",null,"Редактировать",-1),de={class:"single-form d-flex flex-column"};function se(e,t,o,n,i,l){const d=(0,a.up)("app-input"),s=(0,a.up)("app-button");return(0,a.wg)(),(0,a.iD)("div",null,[le,(0,a._)("div",de,[(0,a.Wm)(d,{type:"text",class:"mt-3",value:o.value,onUpdatedValue:t[0]||(t[0]=e=>i.tempEditFormValue=e)},null,8,["value"]),(0,a.Wm)(s,{label:"Сохранить",class:"mt-4",onClick:t[1]||(t[1]=t=>e.$emit("save",i.tempEditFormValue))})])])}var re={name:"FormEdit",components:{AppButton:f,AppInput:ie},data(){return{tempEditFormValue:""}},props:{value:{type:Object,required:!0}}};const ce=(0,m.Z)(re,[["render",se]]);var pe=ce,ue={name:"SectionCardFooter",components:{AppDialog:ee,AppButton:f,AppInput:ie,FormEdit:pe},props:{form:{type:Object,required:!0},itemId:{type:Number,validator(e){return!isNaN(e)??null}},dialogIsShown:{type:Boolean,required:!0},name:{type:String,required:!0}},data(){return{tempNewValue:"",value:""}},computed:{...(0,s.Se)("company",["getCompanies"]),...(0,s.Se)("user",["getUsers"])},methods:{...(0,s.nv)("company",["setCompany"]),...(0,s.nv)("user",["setUsers"]),findName(e){const t=this.name===r.R.COMPANY?this.getCompanies:this.getUsers;return t.find((({id:t})=>t===e))},saveAfterEdit(e){this.name===r.R.COMPANY?this.setCompany(e):this.setUsers(e),this.$emit("close-dialog")}}};const me=(0,m.Z)(ue,[["render",J],["__scopeId","data-v-3f206bcb"]]);var Ce=me,fe={name:"SectionCard",props:{name:{type:String,required:!0},list:{type:Array,required:!0}},components:{AppButton:f,SectionCardFooter:Ce,SectionCardBody:j},data(){return{form:{editIsShown:!1,deleteIsShown:!1,addedIsShown:!1},dialogIsShown:!1,itemId:null}},methods:{...(0,s.nv)("company",["deleteCompany","setNewCompany"]),...(0,s.nv)("user",["deleteUser","setNewUser"]),openDialog(){this.dialogIsShown=!0},closeDialog(){this.dialogIsShown=!1,this.form={editIsShown:!1,deleteIsShown:!1,addedIsShown:!1}},editDialog(e){this.itemId=e,this.form.editIsShown=!0,this.openDialog()},deleteDialog(e){this.itemId=e,this.form.deleteIsShown=!0,this.openDialog()},deleteItemById(e){this.name===r.R.COMPANY?this.deleteCompany(e):this.deleteUser(e),this.closeDialog()},addNewItem(e){this.name===r.R.COMPANY?this.setNewCompany(e):this.setNewUser(e),this.closeDialog()}}};const ve=(0,m.Z)(fe,[["render",d]]);var he=ve}}]);
//# sourceMappingURL=661.db68be40.js.map